(()=>{"use strict";class e{constructor(e){this.name=e}}class t{constructor(e,t,i){void 0===i?(void 0!==t&&(this.date=t),void 0!==e&&(this.choices=e)):this.fromJSON(i)}getDate(){return`${new Date(this.date).toLocaleDateString()}, ${new Date(this.date).toLocaleTimeString()}`}getChoices(){return this.choices}decide(){let e=Math.floor(Math.random()*this.choices.length);return this.choice=this.choices[e],this.choice}toJSON(){let e=JSON.stringify({choice:this.choice,choices:this.choices,date:this.date});return console.log(e),e}fromJSON(e){let t=JSON.parse(e);this.choice=t.choice,this.choices=t.choices,this.date=t.date}}class i{constructor(){this.choices=[],this.decisions=[],this.idCounter=0}static start(){i.app=new i,this.load()}static addChoice(t){t.trim().length>0&&(i.app.choices.push(new e(t.trim())),this.clearInput(document.getElementById("choiceInput")),this.addChoiceToPage(t.trim()))}static removeChoice(e){let t=document.getElementById(`choice${e}`),c=t.innerText.substring(t.innerText.indexOf("\n")),s=i.app.choices.findIndex((e=>e.name===c));i.app.choices.splice(s,1),t.remove()}static clearChoices(){i.app.choices=[],i.app.idCounter=0,document.getElementById("choices").innerHTML=""}static decide(){if(i.app.choices.length>0){i.app.decision=new t(i.app.choices,Date.now());let e=i.app.decision.decide();document.getElementById("decision").innerText=e.name,i.app.decisions.push(i.app.decision),this.save(),this.hideElement(document.getElementById("choiceScreen")),this.showElement(document.getElementById("decisionScreen"))}}static redecide(){let e=i.app.decision.decide();document.getElementById("decision").innerText=e.name,this.save()}static getStarted(){this.clearChoices(),this.hideElement(document.getElementById("welcomeScreen")),this.hideElement(document.getElementById("decisionScreen")),this.showElement(document.getElementById("choiceScreen"))}static viewHistory(){}static showElement(e){e.classList.contains("hidden")&&e.classList.remove("hidden")}static hideElement(e){!1===e.classList.contains("hidden")&&e.classList.add("hidden")}static onTextInput(e){if("Enter"===e.key){let t=e.target;this.addChoice(t.value)}}static clearInput(e){e.value=""}static addChoiceToPage(e){let t=document.getElementById("choices"),c=t.innerHTML;c+=`<div id="choice${i.app.idCounter}" class="flex"><div class="button buttonSmall" onclick="App.removeChoice(${i.app.idCounter})">-</div>${e}</div>`,t.innerHTML=c,i.app.idCounter++}static load(){}static save(){}}i.start(),window.App=i})();